name: Debug Environment Variables

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  debug-env:
    runs-on: ubuntu-latest
    permissions:
      contents: read

    env:
      PAYMENT_CALLBACK_DOMAIN: ${{ secrets.PAYMENT_CALLBACK_DOMAIN }}
      STRIPE_SECRET_KEY: ${{ secrets.STRIPE_SECRET_KEY }}
      JWT_EXPIRATION: ${{ secrets.JWT_EXPIRATION }}
      JWT_SECRET: ${{ secrets.JWT_SECRET }}
      TELEGRAM_USERNAME: ${{ secrets.TELEGRAM_USERNAME }}
      TELEGRAM_TOKEN: ${{ secrets.TELEGRAM_TOKEN }}
      TELEGRAM_CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Print Non-Sensitive Variables
        run: |
          echo "PAYMENT_CALLBACK_DOMAIN=$PAYMENT_CALLBACK_DOMAIN"
          echo "JWT_EXPIRATION=$JWT_EXPIRATION"
          echo "TELEGRAM_USERNAME=$TELEGRAM_USERNAME"

      - name: Check If Secrets Are Set
        run: |
          if [[ -z "$STRIPE_SECRET_KEY" ]]; then
            echo "STRIPE_SECRET_KEY is NOT set!"
          else
            echo "STRIPE_SECRET_KEY is set."
          fi
          
          if [[ -z "$JWT_SECRET" ]]; then
            echo "JWT_SECRET is NOT set!"
          else
            echo "JWT_SECRET is set."
          fi
          
          if [[ -z "$TELEGRAM_TOKEN" ]]; then
            echo "TELEGRAM_TOKEN is NOT set!"
          else
            echo "TELEGRAM_TOKEN is set."
          fi
          
          if [[ -z "$TELEGRAM_CHAT_ID" ]]; then
            echo "TELEGRAM_CHAT_ID is NOT set!"
          else
            echo "TELEGRAM_CHAT_ID is set."
          fi
